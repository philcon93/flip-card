{"version":3,"sources":["components/Flip/Flip.js","components/FlipStatic/FlipStatic.js","components/StyledComponents/index.js","App.js","index.js"],"names":["underTen","value","Flip","countdown","divRef","useRef","tickRef","tickValue","setTickValue","useState","useEffect","currDiv","current","currentTick","Tick","DOM","create","didInit","tick","view","children","root","style","repeat","destroy","timer","helper","interval","prevState","Math","abs","stop","ref","FlipStatic","className","transform","opacity","AppContainer","styled","div","MainContent","props","gridArea","img","HeadingOne","h1","HeadingTwo","SecondaryContent","App","currency","price","backgroundImage","endCard","headingOne","headingTwo","bodyOne","bodyUrl","pause","setPause","flip","setFlip","useSpring","to","scale","from","reset","reverse","delay","onRest","data","Array","toString","map","num","index","Number","defaultProps","rootElement","document","getElementById","ReactDOM","render","StrictMode","window","templateProps"],"mappings":"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","file":"static/js/main.f6df1cfc.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport Tick from \"@pqina/flip\";\nimport \"@pqina/flip/dist/flip.min.css\";\nimport \"./styles.css\";\n\nconst underTen = (value) => {\n  if (value < 10 && value !== 0) {\n    return value;\n  } else if (value === 10 || value === 0) {\n    return 9;\n  }\n\n  return value - 10;\n};\n\nexport const Flip = ({ value, countdown }) => {\n  const divRef = useRef();\n  const tickRef = useRef();\n  const [tickValue, setTickValue] = useState(\n    countdown ? underTen(value + 3) : value\n  );\n\n  useEffect(() => {\n    const currDiv = divRef.current;\n    const currentTick = tickRef.current;\n\n    Tick.DOM.create(currDiv, {\n      value: tickValue,\n      didInit: (tick) => {\n        tickRef.current = tick;\n      },\n      // repeat: true,\n      view: {\n        children: [\n          {\n            root: \"div\",\n            style: \".tick\",\n            repeat: true,\n            children: [\n              {\n                view: \"flip\"\n              }\n            ]\n          }\n        ]\n      }\n    });\n    return () => Tick.DOM.destroy(currentTick);\n  }, []);\n\n  useEffect(() => {\n    if (countdown) {\n      const timer = Tick.helper.interval(() => {\n        setTickValue((prevState) => {\n          if (prevState === value) {\n            return value;\n          }\n\n          const newValue = Math.abs(underTen(--prevState));\n\n          return newValue;\n        });\n      }, 250);\n\n      return () => {\n        timer.stop();\n      };\n    }\n  }, [value, countdown]);\n\n  useEffect(() => {\n    if (tickRef.current) {\n      tickRef.current.value = tickValue;\n    }\n  }, [tickValue]);\n\n  return <div ref={divRef} />;\n};\n","import React from \"react\";\nimport \"./styles.css\";\n\nexport const FlipStatic = ({ value }) => {\n  return (\n    <div className=\"tick\">\n      <span className=\"tick-flip-top-card\">{value}</span>\n      <span data-view=\"flip\" className=\"tick-flip\">\n        <span className=\"tick-flip-card\">\n          <span\n            className=\"tick-flip-panel-front tick-flip-front tick-flip-panel\"\n            style={{ transform: \"rotateX(0deg)\" }}\n          >\n            <span className=\"tick-flip-panel-front-text\">\n              <span className=\"tick-flip-panel-text-wrapper\">{\"\"}</span>\n            </span>\n            <span\n              className=\"tick-flip-panel-front-shadow\"\n              style={{ opacity: \"0\" }}\n            ></span>\n          </span>\n          <span\n            className=\"tick-flip-panel-back tick-flip-back tick-flip-panel\"\n            style={{ transform: \"rotateX(-180deg)\" }}\n          >\n            <span className=\"tick-flip-panel-back-text\">\n              <span className=\"tick-flip-panel-text-wrapper\"></span>\n            </span>\n            <span\n              className=\"tick-flip-panel-back-highlight\"\n              style={{ opacity: \"2\" }}\n            ></span>\n            <span className=\"tick-flip-panel-back-shadow\"></span>\n          </span>\n        </span>\n        <span className=\"tick-flip-card\">\n          <span\n            className=\"tick-flip-panel-front tick-flip-front tick-flip-panel\"\n            style={{ transform: \"rotateX(-180deg)\" }}\n          >\n            <span className=\"tick-flip-panel-front-text\">\n              <span className=\"tick-flip-panel-text-wrapper\"></span>\n            </span>\n            <span\n              className=\"tick-flip-panel-front-shadow\"\n              style={{ opacity: \"0\" }}\n            ></span>\n          </span>\n          <span\n            className=\"tick-flip-panel-back tick-flip-back tick-flip-panel\"\n            style={{ transform: \"rotateX(-360deg)\" }}\n          >\n            <span className=\"tick-flip-panel-back-text\">\n              <span className=\"tick-flip-panel-text-wrapper\">{\"\"}</span>\n            </span>\n            <span\n              className=\"tick-flip-panel-back-highlight\"\n              style={{ opacity: \"0\" }}\n            ></span>\n            <span\n              className=\"tick-flip-panel-back-shadow\"\n              style={{ opacity: \"0\" }}\n            ></span>\n          </span>\n        </span>\n        <span className=\"tick-flip-spacer\"> </span>\n        <span className=\"tick-flip-shadow-top tick-flip-shadow tick-flip-front\"></span>\n        <span className=\"tick-flip-shadow-bottom tick-flip-shadow tick-flip-back\"></span>\n        <span\n          className=\"tick-flip-card-shadow\"\n          style={{ opacity: \"0\", transform: \"scaleY(0)\" }}\n        ></span>\n      </span>\n    </div>\n  );\n};\n","import styled from \"styled-components\";\n\nexport const AppContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: 1fr 1fr 1fr;\n  grid-template-areas: \"mainContent\" \"mainContent\" \"secondaryContent\";\n  font-family: sans-serif;\n  text-align: center;\n  padding: 0;\n  position: relative;\n`;\n\nexport const MainContent = styled.div`\n  width: 100%;\n  height: 100%;\n  padding: 2em 0;\n  grid-area: ${(props) => props.gridArea};\n  background-image: url(\"${(props) => props.img}\");\n  background-position: center;\n  background-size: cover;\n  position: relative;\n  color: #fff;\n`;\n\nexport const HeadingOne = styled.h1`\n  color: #fff;\n  background-color: #da011a;\n  display: inline-block;\n  padding: 0.3em 1em;\n  margin: 0 0 1em;\n  text-transform: uppercase;\n`;\n\nexport const HeadingTwo = styled.h1`\n  text-transform: uppercase;\n`;\n\nexport const SecondaryContent = styled.div`\n  width: 100%;\n  height: 100%;\n  grid-area: ${(props) => props.gridArea};\n  position: relative;\n  background-color: #da011a;\n  color: #fff;\n`;\n","import React, { useState } from \"react\";\nimport { useSpring, a } from \"react-spring\";\nimport {\n  AppContainer,\n  MainContent,\n  HeadingOne,\n  HeadingTwo,\n  SecondaryContent,\n  Flip,\n  FlipStatic\n} from \"./components\";\nimport \"./styles.css\";\n\nexport default function App({\n  currency,\n  price,\n  backgroundImage,\n  endCard,\n  headingOne,\n  headingTwo,\n  bodyOne,\n  bodyUrl\n}) {\n  const [pause, setPause] = useState(false);\n  const [flip, setFlip] = useState(false);\n  const props = useSpring({\n    to: { scale: 1.1 },\n    from: { scale: 1 },\n    reset: true,\n    reverse: flip,\n    delay: 1200,\n    pause: pause,\n    onRest: (data) => {\n      if (data.value.scale === 1) {\n        setPause(true);\n      }\n      return setFlip(!flip);\n    }\n  });\n\n  return (\n    <AppContainer>\n      <MainContent gridArea=\"mainContent\" img={backgroundImage}>\n        <a.div style={props}>\n          <HeadingOne>{headingOne}</HeadingOne>\n          <div>\n            <FlipStatic value=\"FROM\" />\n            <Flip value={currency} />\n            {Array.from(price.toString()).map((num, index) => (\n              <Flip key={index} value={Number(num)} countdown={true} />\n            ))}\n            {\n              endCard && <FlipStatic value={endCard} />\n            }\n          </div>\n        </a.div>\n      </MainContent>\n      <SecondaryContent gridArea=\"secondaryContent\">\n        <HeadingTwo>{headingTwo}</HeadingTwo>\n        <p>{bodyOne}<br />{bodyUrl}</p>\n      </SecondaryContent>\n    </AppContainer>\n  );\n}\n\nApp.defaultProps = {\n  currency: '$',\n  price: '1198',\n  backgroundImage: 'image.jpg',\n  endCard: 'Per Couple',\n  headingOne: 'Flexible Changes',\n  headingTwo: 'Barossa Valley Wine & Dine Retreat',\n  bodyOne: '^ Terms, conditions & select travel dates apply. Price and saving is per couple, twin share.',\n  bodyUrl: 'www.flightcentre.com.au/product/12879562'\n}","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <React.StrictMode>\n    <App {...window.templateProps} />\n  </React.StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}